circuit Task1_Lab7 :
  module Task1_Lab7 :
    input clock : Clock
    input reset : UInt<1>
    input io_f1 : UInt<1>
    input io_f2 : UInt<1>
    input io_r1 : UInt<1>
    input io_r2 : UInt<1>
    output io_out : UInt<4>

    reg state : UInt<2>, clock with :
      reset => (UInt<1>("h0"), state) @[Task1_Lab7.scala 20:25]
    node _T = eq(state, UInt<2>("h2")) @[Task1_Lab7.scala 23:18]
    node _T_1 = eq(io_f1, UInt<1>("h0")) @[Task1_Lab7.scala 23:35]
    node _T_2 = eq(io_r1, UInt<1>("h0")) @[Task1_Lab7.scala 23:56]
    node _T_3 = and(_T_1, _T_2) @[Task1_Lab7.scala 23:47]
    node _T_4 = and(_T, _T_3) @[Task1_Lab7.scala 23:25]
    node _T_5 = eq(state, UInt<2>("h2")) @[Task1_Lab7.scala 23:80]
    node _T_6 = eq(io_f1, UInt<1>("h1")) @[Task1_Lab7.scala 23:97]
    node _T_7 = and(_T_5, _T_6) @[Task1_Lab7.scala 23:87]
    node _T_8 = or(_T_4, _T_7) @[Task1_Lab7.scala 23:70]
    node _T_9 = eq(state, UInt<2>("h2")) @[Task1_Lab7.scala 23:120]
    node _T_10 = eq(io_f1, UInt<1>("h0")) @[Task1_Lab7.scala 23:137]
    node _T_11 = and(_T_9, _T_10) @[Task1_Lab7.scala 23:127]
    node _T_12 = eq(io_r1, UInt<1>("h1")) @[Task1_Lab7.scala 23:160]
    node _T_13 = and(_T_11, _T_12) @[Task1_Lab7.scala 23:150]
    node _T_14 = or(_T_8, _T_13) @[Task1_Lab7.scala 23:110]
    node _T_15 = eq(state, UInt<3>("h4")) @[Task1_Lab7.scala 25:23]
    node _T_16 = eq(io_f2, UInt<1>("h1")) @[Task1_Lab7.scala 25:40]
    node _T_17 = and(_T_15, _T_16) @[Task1_Lab7.scala 25:30]
    node _T_18 = eq(state, UInt<3>("h4")) @[Task1_Lab7.scala 25:63]
    node _T_19 = eq(io_f2, UInt<1>("h0")) @[Task1_Lab7.scala 25:80]
    node _T_20 = eq(io_r2, UInt<1>("h0")) @[Task1_Lab7.scala 25:101]
    node _T_21 = and(_T_19, _T_20) @[Task1_Lab7.scala 25:92]
    node _T_22 = and(_T_18, _T_21) @[Task1_Lab7.scala 25:70]
    node _T_23 = or(_T_17, _T_22) @[Task1_Lab7.scala 25:53]
    node _T_24 = eq(state, UInt<3>("h4")) @[Task1_Lab7.scala 25:125]
    node _T_25 = eq(io_f2, UInt<1>("h0")) @[Task1_Lab7.scala 25:142]
    node _T_26 = and(_T_24, _T_25) @[Task1_Lab7.scala 25:132]
    node _T_27 = eq(io_r2, UInt<1>("h1")) @[Task1_Lab7.scala 25:166]
    node _T_28 = and(_T_26, _T_27) @[Task1_Lab7.scala 25:156]
    node _T_29 = or(_T_23, _T_28) @[Task1_Lab7.scala 25:115]
    node _GEN_0 = mux(_T_29, UInt<3>("h7"), UInt<1>("h0")) @[Task1_Lab7.scala 25:179 Task1_Lab7.scala 26:15 Task1_Lab7.scala 28:15]
    node _GEN_1 = mux(_T_14, UInt<2>("h3"), _GEN_0) @[Task1_Lab7.scala 23:173 Task1_Lab7.scala 24:15]
    node _T_30 = eq(UInt<2>("h0"), state) @[Conditional.scala 37:30]
    node _T_31 = eq(io_f1, UInt<1>("h0")) @[Task1_Lab7.scala 33:23]
    node _T_32 = eq(io_f2, UInt<1>("h0")) @[Task1_Lab7.scala 33:43]
    node _T_33 = and(_T_31, _T_32) @[Task1_Lab7.scala 33:34]
    node _T_34 = eq(io_f1, UInt<1>("h1")) @[Task1_Lab7.scala 35:31]
    node _T_35 = eq(io_f2, UInt<1>("h0")) @[Task1_Lab7.scala 35:53]
    node _T_36 = and(_T_34, _T_35) @[Task1_Lab7.scala 35:43]
    node _T_37 = eq(io_f1, UInt<1>("h0")) @[Task1_Lab7.scala 37:31]
    node _T_38 = eq(io_f2, UInt<1>("h1")) @[Task1_Lab7.scala 37:54]
    node _T_39 = and(_T_37, _T_38) @[Task1_Lab7.scala 37:44]
    node _T_40 = eq(io_f1, UInt<1>("h1")) @[Task1_Lab7.scala 39:31]
    node _T_41 = eq(io_f2, UInt<1>("h1")) @[Task1_Lab7.scala 39:53]
    node _T_42 = and(_T_40, _T_41) @[Task1_Lab7.scala 39:43]
    node _GEN_2 = mux(_T_42, UInt<2>("h1"), state) @[Task1_Lab7.scala 39:65 Task1_Lab7.scala 40:22 Task1_Lab7.scala 20:25]
    node _GEN_3 = mux(_T_39, UInt<3>("h5"), _GEN_2) @[Task1_Lab7.scala 37:66 Task1_Lab7.scala 38:22]
    node _GEN_4 = mux(_T_36, UInt<2>("h1"), _GEN_3) @[Task1_Lab7.scala 35:66 Task1_Lab7.scala 36:22]
    node _GEN_5 = mux(_T_33, UInt<2>("h0"), _GEN_4) @[Task1_Lab7.scala 33:55 Task1_Lab7.scala 34:22]
    node _T_43 = eq(UInt<2>("h1"), state) @[Conditional.scala 37:30]
    node _T_44 = eq(io_f1, UInt<1>("h0")) @[Task1_Lab7.scala 44:24]
    node _T_45 = eq(io_r1, UInt<1>("h0")) @[Task1_Lab7.scala 44:44]
    node _T_46 = and(_T_44, _T_45) @[Task1_Lab7.scala 44:35]
    node _T_47 = eq(io_f1, UInt<1>("h1")) @[Task1_Lab7.scala 46:30]
    node _T_48 = eq(io_f1, UInt<1>("h0")) @[Task1_Lab7.scala 48:32]
    node _T_49 = eq(io_r1, UInt<1>("h1")) @[Task1_Lab7.scala 48:55]
    node _T_50 = and(_T_48, _T_49) @[Task1_Lab7.scala 48:45]
    node _GEN_6 = mux(_T_50, UInt<2>("h0"), state) @[Task1_Lab7.scala 48:68 Task1_Lab7.scala 49:22 Task1_Lab7.scala 20:25]
    node _GEN_7 = mux(_T_47, UInt<2>("h2"), _GEN_6) @[Task1_Lab7.scala 46:41 Task1_Lab7.scala 47:22]
    node _GEN_8 = mux(_T_46, UInt<2>("h1"), _GEN_7) @[Task1_Lab7.scala 44:57 Task1_Lab7.scala 45:22]
    node _T_51 = eq(UInt<2>("h2"), state) @[Conditional.scala 37:30]
    node _T_52 = eq(io_f1, UInt<1>("h0")) @[Task1_Lab7.scala 53:23]
    node _T_53 = eq(io_r1, UInt<1>("h0")) @[Task1_Lab7.scala 53:43]
    node _T_54 = and(_T_52, _T_53) @[Task1_Lab7.scala 53:34]
    node _T_55 = eq(io_f1, UInt<1>("h1")) @[Task1_Lab7.scala 55:30]
    node _T_56 = eq(io_f1, UInt<1>("h0")) @[Task1_Lab7.scala 57:30]
    node _T_57 = eq(io_r1, UInt<1>("h1")) @[Task1_Lab7.scala 57:51]
    node _T_58 = and(_T_56, _T_57) @[Task1_Lab7.scala 57:42]
    node _GEN_9 = mux(_T_58, UInt<2>("h1"), state) @[Task1_Lab7.scala 57:62 Task1_Lab7.scala 58:22 Task1_Lab7.scala 20:25]
    node _GEN_10 = mux(_T_55, UInt<2>("h3"), _GEN_9) @[Task1_Lab7.scala 55:41 Task1_Lab7.scala 56:22]
    node _GEN_11 = mux(_T_54, UInt<2>("h2"), _GEN_10) @[Task1_Lab7.scala 53:55 Task1_Lab7.scala 54:22]
    node _T_59 = eq(UInt<2>("h3"), state) @[Conditional.scala 37:30]
    node _T_60 = eq(UInt<3>("h4"), state) @[Conditional.scala 37:30]
    node _T_61 = eq(io_f2, UInt<1>("h1")) @[Task1_Lab7.scala 65:24]
    node _T_62 = eq(io_f2, UInt<1>("h0")) @[Task1_Lab7.scala 67:29]
    node _T_63 = eq(io_r2, UInt<1>("h0")) @[Task1_Lab7.scala 67:49]
    node _T_64 = and(_T_62, _T_63) @[Task1_Lab7.scala 67:40]
    node _T_65 = eq(io_f2, UInt<1>("h0")) @[Task1_Lab7.scala 69:30]
    node _T_66 = eq(io_r2, UInt<1>("h1")) @[Task1_Lab7.scala 69:52]
    node _T_67 = and(_T_65, _T_66) @[Task1_Lab7.scala 69:43]
    node _GEN_12 = mux(_T_67, UInt<3>("h5"), state) @[Task1_Lab7.scala 69:63 Task1_Lab7.scala 70:22 Task1_Lab7.scala 20:25]
    node _GEN_13 = mux(_T_64, UInt<3>("h4"), _GEN_12) @[Task1_Lab7.scala 67:61 Task1_Lab7.scala 68:22]
    node _GEN_14 = mux(_T_61, UInt<2>("h3"), _GEN_13) @[Task1_Lab7.scala 65:35 Task1_Lab7.scala 66:22]
    node _T_68 = eq(UInt<3>("h5"), state) @[Conditional.scala 37:30]
    node _T_69 = eq(io_f2, UInt<1>("h1")) @[Task1_Lab7.scala 74:24]
    node _T_70 = eq(io_f2, UInt<1>("h0")) @[Task1_Lab7.scala 76:29]
    node _T_71 = eq(io_r2, UInt<1>("h0")) @[Task1_Lab7.scala 76:49]
    node _T_72 = and(_T_70, _T_71) @[Task1_Lab7.scala 76:40]
    node _T_73 = eq(io_f2, UInt<1>("h0")) @[Task1_Lab7.scala 78:30]
    node _T_74 = eq(io_r2, UInt<1>("h1")) @[Task1_Lab7.scala 78:51]
    node _T_75 = and(_T_73, _T_74) @[Task1_Lab7.scala 78:42]
    node _GEN_15 = mux(_T_75, UInt<2>("h0"), state) @[Task1_Lab7.scala 78:62 Task1_Lab7.scala 79:22 Task1_Lab7.scala 20:25]
    node _GEN_16 = mux(_T_72, UInt<3>("h5"), _GEN_15) @[Task1_Lab7.scala 76:61 Task1_Lab7.scala 77:22]
    node _GEN_17 = mux(_T_69, UInt<3>("h4"), _GEN_16) @[Task1_Lab7.scala 74:35 Task1_Lab7.scala 75:22]
    node _GEN_18 = mux(_T_68, _GEN_17, state) @[Conditional.scala 39:67 Task1_Lab7.scala 20:25]
    node _GEN_19 = mux(_T_60, _GEN_14, _GEN_18) @[Conditional.scala 39:67]
    node _GEN_20 = mux(_T_59, UInt<2>("h0"), _GEN_19) @[Conditional.scala 39:67 Task1_Lab7.scala 62:18]
    node _GEN_21 = mux(_T_51, _GEN_11, _GEN_20) @[Conditional.scala 39:67]
    node _GEN_22 = mux(_T_43, _GEN_8, _GEN_21) @[Conditional.scala 39:67]
    node _GEN_23 = mux(_T_30, _GEN_5, _GEN_22) @[Conditional.scala 40:58]
    io_out <= _GEN_1
    state <= mux(reset, UInt<2>("h0"), bits(_GEN_23, 1, 0)) @[Task1_Lab7.scala 20:25 Task1_Lab7.scala 20:25]
